os:
- linux
- osx
- windows
language: rust
cache: cargo
script:
- cargo build --verbose --all
- cargo test --verbose test::test_ffi
- cargo test --verbose test::test_natpmp
- cargo doc
deploy:
  provider: cargo
  token:
    secure: hgjsIztvuatvz/JIXu2IuejF1z6gdRsNgWl0ejeiZQeE+adDs/OFHX+l3BqejUD0beZLMx1VXA3Lf8FxWfiV8znmj4ukktPEXSeLVBS0Oqm9AYmYozFszerOwhHcWxckwPfdnVsxBuM/1tNTP3koM+hS7uH7Sa9k5jTQc1uFgoyYX9gbFqO/WuMLDB1YmWyNuFkY/UgAnVsVjr9bV/Hjysghq3SG2uzL7x8/4d11ys2IWbZtQY2vQd2ssVNOce40ckXCIq3J2Pt1v7VfuNyzu2dtFqIsp3hDbLnL0qH8yPe3lk6ay+tZTuWPykC8Iva3w78Trxw8FXpVZBGz/gbm9rvt7lSGXzfwAqa2AyHGiGgQ7W/nY6ZXdVTCuyRGMObQXcx+0pOR+i63HMS+NeoOtPvIfvhWMnFEUzv/bOt9cv80IswdllyoTXRHqKophTdLg1tlViy52yVY0v4YCp7Ts0ihKalILaRPDBBzLUQzlk/E/j+arkKP2d7+jII2B22WBn4X8mMLLbdxtf5eq4nYgHbhMOHkAH3VEohzsmYGEiFWE1mj28Tg/2PieXmeEtgCYscReYQ8u/U+JXFYatImDUMLBW/+j2l2+/8N3EIjvoR99wVogWfevw1JrcjVvqszQE8sV4OY4IGeZlcUxliHJRD9nCBQDymLhARmR9WHk8E=
  on:
    tags: true
    condition: "$TRAVIS_OS_NAME = linux"
